{% extends "base.html" %}

{% block content %}
<h2>ğŸ’Š Medicine Catalog</h2>

<p>Browse and manage the medicine catalog</p>

<hr>

<!-- Search Bar -->
<form method="get" action="{% url 'medicines:list' %}">
    <input type="text" name="search" placeholder="Search medicines..." value="{{ search_query }}">
    <button type="submit">ğŸ” Search</button>
    <a href="{% url 'medicines:list' %}">Clear</a>
</form>

<hr>

<p><a href="{% url 'medicines:create' %}">â• Add New Medicine</a></p>

<hr>

{% if medicines %}
    <h3>Medicines ({{ medicines|length }})</h3>
    <ul>
    {% for medicine in medicines %}
        <li>
            <strong><a href="{% url 'medicines:detail' medicine.pk %}">{{ medicine.name }}</a></strong>
            {% if medicine.generic_name %}({{ medicine.generic_name }}){% endif %}
            - {{ medicine.strength }}
            {% if medicine.form %}- {{ medicine.form }}{% endif %}
            {% if medicine.manufacturer %}<br><em>By {{ medicine.manufacturer }}</em>{% endif %}
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No medicines found. {% if search_query %}Try a different search.{% else %}<a href="{% url 'medicines:create' %}">Add one</a>{% endif %}</p>
{% endif %}

<hr>

<p><a href="{% url 'patients:dashboard' %}">ğŸ  Back to Dashboard</a></p>
{% endblock %}
